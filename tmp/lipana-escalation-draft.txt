Subject: STK delivery discrepancy — app-originated pushes accepted but prompts not delivered

Hello Lipana Support,

We are seeing a delivery discrepancy where STK pushes initiated from the Lipana dashboard reach handsets immediately, but STK pushes initiated via our server-to-server API calls sometimes remain in status "pending" and do not display the handset prompt.

Attached is `lipana-escalation.json` (masked logs and transaction IDs) generated from our app. Key examples:
- TXN1765215602444C61220  (_id=69370d72094436f0db3a6ee5)
- TXN1765215603946CKDOX2  (_id=69370d73094436f0db3a6eeb)
- TXN1765215605634SADCCY  (_id=69370d75094436f0db3a6f03)
- TXN1765216100750Z6JN4X  (_id=69370f64094436f0db3a7f1e)

What we observed:
- Server-to-server API calls to POST /v1/transactions return HTTP 201 and create transactions (status: pending).
- Attempting to emulate a dashboard request by adding an `Origin` header caused Lipana to reject with `Not allowed by CORS` (500). Therefore our server requests must remain server-to-server (no Origin).
- Adding extra body fields such as `account_reference`, `transaction_desc`, `channel`, or `metadata` did not change acceptance — transactions were still created but handset prompts were not reliably delivered.

Requested checks from Lipana:
1. For the internal `_id` values above, please confirm whether these transactions were forwarded to Safaricom and provide any forwarding logs / error codes or reasons if forwarded but not delivered.
2. If the Lipana dashboard attaches internal metadata or uses a different API key/role that affects routing, please indicate which fields or roles are required for handset prompt delivery.
3. If Safaricom returned any rejection/validation codes for these transactions, please share them.

We can provide additional masked logs or live examples on request. The artifact `lipana-escalation.json` (attached) contains masked `[LIPANA_STK_REQ]` and `[LIPANA_STK_RES]` entries with timestamps and the callback URL used.

Thank you,
BETRIX Engineering
